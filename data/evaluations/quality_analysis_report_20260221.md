# RAG 품질 분석 보고서

**생성 일시:** 2026-02-21
**분석 기간:** 2026-02-07 ~ 2026-02-21
**평가 프레임워크:** RAGAS
**평가 모델:** gpt-4o, gpt-4o-mini

---

## 1. Executive Summary (전체 요약)

### 1.1 주요 지표

| 지표 | 값 | 목표 | 달성 여부 |
|------|-----|------|-----------|
| **전체 평가 수** | 168건 | - | - |
| **평균 점수** | 0.55 | 0.70 | 미달성 |
| **합격률** | 0.0% | 80%+ | 심각한 미달성 |
| **최저 점수** | 0.47 | - | - |
| **최고 점수** | 0.75 | - | - |
| **표준 편차** | 0.08 | - | 낮은 변동성 |
| **추세** | improving | - | 긍정적 |

### 1.2 핵심 발견사항

1. **0% 합격률:** 모든 168건의 평가가 기준 미달로 판정됨
2. **Faithfulness 심각 문제:** 평균 0.31 (목표 0.90 대비 65% 부족)
3. **Contextual Recall 우수:** 평균 0.87 (목표 0.80 달성)
4. **일관된 점수 분포:** 표준편차 0.08로 낮은 변동성
5. **개선 추세:** 전체 추세는 improving으로 양호

### 1.3 위기도 평가

| 위기 수준 | 메트릭 | 점수 | 위기도 |
|-----------|--------|------|--------|
| **CRITICAL** | Faithfulness | 0.31 | 즉시 개선 필요 |
| **HIGH** | Answer Relevancy | 0.53 | 우선 개선 필요 |
| **HIGH** | Contextual Precision | 0.50 | 우선 개선 필요 |
| **LOW** | Contextual Recall | 0.87 | 양호 |

---

## 2. Metrics Analysis (메트릭 분석)

### 2.1 Faithfulness (할루시네이션 방지)

**현재 상태: 심각 (CRITICAL)**

| 항목 | 값 |
|------|-----|
| 평균 점수 | 0.31 |
| 목표 점수 | 0.90 |
| 임계값 | 0.60 |
| 달성률 | 34% |
| 위기 수준 | CRITICAL |

**주요 문제점:**
- 모든 평가에서 Faithfulness 점수가 0.5로 일관되게 낮음
- "CRITICAL: Faithfulness below critical threshold - high hallucination risk" 메시지 반복
- 답변이 컨텍스트에 충분히 기반하지 않음

**관찰된 패턴:**
```
- 답변이 컨텍스트 외부 정보를 포함하는 경향
- "정확한 정보는 학교 홈페이지를 참고하세요"와 같은 회피성 답변
- 컨텍스트에 없는 세부 정보 생성 시도
```

### 2.2 Answer Relevancy (답변 관련성)

**현재 상태: 높음 (HIGH)**

| 항목 | 값 |
|------|-----|
| 평균 점수 | 0.53 |
| 목표 점수 | 0.85 |
| 임계값 | 0.70 |
| 달성률 | 62% |
| 위기 수준 | HIGH |

**주요 문제점:**
- 모호한 질문에 대한 답변 품질 저하
- 질문의 핵심 의도를 파악하지 못하는 경우
- 일반적인 답변으로 구체적인 요구를 충족하지 못함

**관찰된 패턴:**
```
- "XX가 뭐예요?" 형태의 질문에서 낮은 점수
- "XX 알려주세요" 형태에서도 낮은 점수
- 구체적인 질문보다 모호한 질문에서 더 낮은 점수
```

### 2.3 Contextual Precision (검색 정확도)

**현재 상태: 높음 (HIGH)**

| 항목 | 값 |
|------|-----|
| 평균 점수 | 0.50 |
| 목표 점수 | 0.80 |
| 임계값 | 0.65 |
| 달성률 | 63% |
| 위기 수준 | HIGH |

**주요 문제점:**
- 검색된 컨텍스트에 관련 없는 문서 포함
- 질문과 직접 관련 없는 조항이 상위에 노출
- 중요 문서의 순위가 낮음

**관찰된 패턴:**
```
- 내부감사규정, 명예교수규정 등 관련 없는 문서가 검색 결과에 포함
- 휴학 관련 질문에 경과조치, 서식 등이 우선 검색됨
- 실제 관련 규정이 하위에 위치하거나 누락
```

### 2.4 Contextual Recall (정보 완전성)

**현재 상태: 양호 (LOW)**

| 항목 | 값 |
|------|-----|
| 평균 점수 | 0.87 |
| 목표 점수 | 0.80 |
| 임계값 | 0.80 |
| 달성률 | 109% |
| 위기 수준 | LOW |

**긍정적 발견:**
- 유일하게 목표를 달성한 메트릭
- 검색 시스템이 대부분의 관련 정보를 포함
- 답변 생성을 위한 충분한 컨텍스트 확보

---

## 3. Failure Patterns (실패 패턴 분석)

### 3.1 공통 실패 사유 분석

분석된 30개 평가 파일에서 확인된 실패 패턴:

| 실패 사유 | 빈도 | 비율 | 심각도 |
|-----------|------|------|--------|
| Faithfulness below threshold | 30/30 | 100% | CRITICAL |
| Answer Relevancy below threshold | 26/30 | 87% | HIGH |
| Contextual Precision below threshold | 30/30 | 100% | HIGH |
| High hallucination risk | 30/30 | 100% | CRITICAL |

### 3.2 질문 유형별 실패 분석

**가장 낮은 점수를 기록한 질문 유형:**

| 질문 유형 | 예시 | 평균 점수 | 실패 원인 |
|-----------|------|-----------|-----------|
| 자격 문의 | "휴학 자격이 뭐예요?" | 0.593 | 검색 컨텍스트 부적절 |
| 모호한 질문 | "성적 어떻게 해요?" | 0.593 | 질문 의도 파악 실패 |
| 기간 문의 | "휴학 기간이 얼마나 돼요?" | 0.593 | 컨텍스트에 관련 없는 문서 |
| 절차 문의 | "복학 신청 방법 알려주실까요?" | 0.593 | 절차 정보 누락 |
| 장학금 문의 | "자녀 장학금 관련해서 알고 싶어요" | 0.593 | 관련 규정 미검색 |

### 3.3 컨텍스트 검색 문제

**관찰된 검색 문제:**

1. **관련 없는 문서 포함**
   - 내부감사규정 (휴학 질문에)
   - 명예교수규정 (학생 관련 질문에)
   - 연구실 안전수칙 (학사 관련 질문에)

2. **경과조치 문서 과다 노출**
   - "(경과조치)" 키워드가 포함된 문서가 우선 검색
   - 실제 주요 규정보다 부가 정보가 상위 노출

3. **서식/양식 문서 우선 노출**
   - "[별지 제X호 서식]" 문서가 실제 규정보다 먼저 검색됨
   - 텍스트 위주 문서보다 서식 문서가 더 많이 포함

### 3.4 답변 생성 문제

**관찰된 답변 패턴:**

1. **회피성 답변**
   ```
   "정확한 내용은 학교 홈페이지 또는 관련 부서에 문의하시기 바랍니다."
   "제공된 컨텍스트에서 확인되지 않습니다."
   ```

2. **할루시네이션 의심**
   ```
   "[정확한 정보는 동의대학교 규정을 확인하세요]"
   "[Note: Response generated using fallback provider due to primary provider unavailability.]"
   ```

3. **불완전한 답변**
   ```
   답변이 중간에 잘리거나 핵심 정보가 누락되는 패턴
   ```

---

## 4. Persona Analysis (페르소나별 분석)

**참고:** 현재 평가 데이터에 페르소나 정보가 포함되어 있지 않음. 향후 평가에서는 다음 페르소나별 분석이 필요:

### 4.1 예상 취약 페르소나

| 페르소나 | 예상 문제 | 개선 필요 사항 |
|----------|-----------|----------------|
| **신입생 (Freshman)** | 모호한 질문, 구어체 사용 | 간단명료한 답변, 최소 인용 |
| **학부모 (Parent)** | 전화번호 요구, 친절한 설명 기대 | 전화번호 포함, 상세 설명 |
| **외국인 유학생** | 언어 장벽, 비자 관련 질문 | 간단한 한국어, 영어 지원 |

### 4.2 쿼리 패턴 분석

분석된 쿼리에서 발견된 패턴:

| 패턴 | 빈도 | 예시 | 점수 경향 |
|------|------|------|-----------|
| "XX가 뭐예요?" | 높음 | "휴학 자격이 뭐예요?" | 낮음 |
| "XX 알려주세요" | 높음 | "휴학 절차 알려주세요" | 낮음 |
| "XX 어떻게 해요?" | 중간 | "성적 어떻게 해요?" | 낮음 |
| 구체적 질문 | 낮음 | "휴학규정 제5조 휴학기간" | 높음 |

---

## 5. Recommendations (개선 권장사항)

### 5.1 우선순위별 개선 항목

#### P0: 즉시 개선 필요 (1-2주)

1. **Faithfulness 개선 (CRITICAL)**
   - [ ] 답변 생성 시 컨텍스트 인용 강제화
   - [ ] 할루시네이션 방지 프롬프트 추가
   - [ ] FaithfulnessValidator 적용 (SPEC-RAG-QUALITY-008)
   - [ ] 컨텍스트 외부 정보 생성 차단

2. **Contextual Precision 개선 (HIGH)**
   - [ ] Reranker 모델 성능 개선
   - [ ] 검색 결과 필터링 강화
   - [ ] 관련성 없는 문서 제외 로직 추가
   - [ ] 경과조치/서식 문서 가중치 조정

#### P1: 단기 개선 필요 (2-4주)

3. **Answer Relevancy 개선 (HIGH)**
   - [ ] 질문 의도 파악 프롬프트 개선
   - [ ] 모호한 질문에 대한 명확화 요청 로직
   - [ ] 구조화된 답변 포맷 적용

4. **회피성 답변 제거**
   - [ ] "홈페이지 참고" 답변 패턴 제거
   - [ ] 컨텍스트 내 정보 최대한 활용하도록 프롬프트 수정
   - [ ] 불확실한 경우 "제공된 규정에 따르면"으로 시작

#### P2: 중기 개선 필요 (1-2개월)

5. **페르소나 기반 평가 도입**
   - [ ] 6가지 페르소나 정의 및 적용
   - [ ] 페르소나별 쿼리 생성
   - [ ] 페르소나별 점수 추적

6. **평가 메타데이터 보강**
   - [ ] 각 평가에 페르소나 정보 추가
   - [ ] 쿼리 난이도 분류 추가
   - [ ] 평가 모델 일관성 확보

### 5.2 구체적 액션 아이템

```markdown
## Faithfulness 개선 체크리스트

### 프롬프트 수정
- [ ] "반드시 제공된 컨텍스트에서만 정보를 추출하세요" 추가
- [ ] "컨텍스트에 없는 정보는 추측하지 마세요" 추가
- [ ] "답변할 수 없는 경우 '제공된 규정에서 확인할 수 없습니다'라고 명시" 추가

### 검색 개선
- [ ] Reranker 임계값 조정
- [ ] 하이브리드 검색 (BM25 + Vector) 적용
- [ ] 메타데이터 필터링 강화

### 답변 생성 개선
- [ ] 조항 인용 형식 표준화: "XX규정 제N조"
- [ ] 답변 길이 제한 완화 (잘림 방지)
- [ ] Fallback provider 문제 해결
```

### 5.3 성공 지표 (KPI)

| 메트릭 | 현재 | 단기 목표 (4주) | 중기 목표 (8주) | 장기 목표 (12주) |
|--------|------|-----------------|-----------------|------------------|
| Faithfulness | 0.31 | 0.50 | 0.70 | 0.90 |
| Answer Relevancy | 0.53 | 0.65 | 0.75 | 0.85 |
| Contextual Precision | 0.50 | 0.60 | 0.70 | 0.80 |
| Overall Score | 0.55 | 0.60 | 0.70 | 0.75 |
| Pass Rate | 0% | 10% | 40% | 80% |

---

## 6. 부록

### 6.1 평가 샘플 분석

**샘플 1: 휴학 기간 질문**
- 질문: "휴학 기간이 얼마나 돼요?"
- 점수: 0.593 (FAILED)
- 문제: 검색된 컨텍스트에 내부감사규정 등 관련 없는 문서 포함
- 개선: 휴학규정 제5조 직접 검색, 경과조치 문서 제외

**샘플 2: 휴학 절차 질문**
- 질문: "휴학 절차 알려주세요"
- 점수: 0.634 (FAILED)
- 문제: 답변이 컨텍스트에 충분히 기반하지 않음
- 개선: 휴학규정 제7조 구비서류 내용 직접 인용

**샘플 3: 연구년 적용 기준**
- 질문: "연구년 적용 기준 상세히"
- 점수: 0.655 (FAILED)
- 문제: Contextual Precision 낮음 (0.5)
- 개선: 연구년 관련 규정 우선 검색

### 6.2 시스템 아키텍처 개선 제안

```
현재: Query -> Vector Search -> Rerank -> Generate

개선안: Query -> Query Expansion -> Hybrid Search
     -> Metadata Filtering -> Rerank -> Context Selection
     -> Generate with Citations -> Validation
```

### 6.3 참고 문서

- SPEC-RAG-Q-001: RAG 품질 평가 시스템
- SPEC-RAG-QUALITY-008: FaithfulnessValidator 구현
- RAG 평가자 에이전트 가이드라인

---

**보고서 생성:** RAG Quality Evaluator Agent
**검토 필요:** 개발팀, QA팀
**다음 검토 일정:** 2026-03-07
