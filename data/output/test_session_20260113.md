# RAG 시스템 품질 테스트 세션 보고서

**날짜**: 2026-01-13  
**테스터**: AI Agent (엄격 모드)  
**LLM**: exaone-4.0-32b-mlx (LMStudio)

---

## 1. 시작 상태

| 항목 | 값 |
|------|-----|
| 규정 수 | 318개 |
| 조항 수 | 17,254개 |
| 마지막 동기화 | 2026-01-12 |
| 정적 테스트 통과율 | **100%** (50/50) |

---

## 2. 동적 테스트 결과

### 2.1 테스트 구성

| 항목 | 값 |
|------|-----|
| 페르소나 수 | 5개 |
| 총 쿼리 수 | 15개 |
| 난이도 분포 | 쉬움 5개(33%), 중간 5개(33%), 어려움 5개(33%) |

### 2.2 테스트한 페르소나

1. 🎓 신입생 - 휴학, 장학금, 경제적 어려움
2. 📚 재학생 (3학년) - 졸업학점, 복수전공, 교환학생
3. 🎓 대학원생 - 석사요건, 논문심사, 지도교수
4. 👨‍🏫 신임 교수 - 연구년, 승진, 산학협력
5. 🤕 어려운 상황의 학생 - 학사경고, 성적이의, 자퇴

### 2.3 팩트체크 수행 내역

| 쿼리 | 검증 쿼리 | 결과 |
|------|----------|------|
| 휴학 신청 기간 | `휴학 수업일수 기간` | ⚠️ 구체적 기간 미확인 |
| 졸업학점 130학점 | `졸업 130학점` | ⚠️ 130학점 직접 확인 안됨, 학과별 상이 |
| 연구년 6년 재직 | `연구년 6년 재직` | ✅ 교원연구년제규정 확인 |
| 자퇴 등록금 반환 | `자퇴 등록금 반환 전액` | ✅ 학기 개시 전 전액 반환 확인 |
| 논문심사 절차 | `논문 공개 학술발표회` | ✅ 대학원학위논문심사세칙 확인 |

### 2.4 성공/실패 분포

| 판정 | 개수 | 비율 |
|------|------|------|
| ✅ 성공 (≥4.0) | 4 | 27% |
| ⚠️ 부분성공 (3.0~3.9) | 2 | 13% |
| ❌ 실패 (<3.0) | 9 | 60% |
| **실제 성공률** | **4/15** | **27%** |

### 2.5 실패 유형 분석

| 실패 유형 | 빈도 | 대표 쿼리 |
|----------|------|----------|
| `GENERIC_ANSWER` | 5건 | 휴학 신청 기간, 학사경고 기준 |
| `INCOMPLETE` | 4건 | 장학금+휴학, 복수전공 vs 부전공 |
| `NO_SOURCE` | 3건 | 성적 이의신청, 승진 심사 기준 |
| `IRRELEVANT` | 2건 | 교환학생 학점, 석사 졸업 요건 |

---

## 3. 멀티턴 테스트 결과

| 시나리오 | Turn 1 | Turn 2 | Turn 3 | 전체 판정 |
|----------|--------|--------|--------|----------|
| 신입생-휴학 | ✅ | ✅ | ✅ | **성공** |

**멀티턴 성공률**: 100% (1/1 시나리오)

---

## 4. 답변 품질 점수

| 항목 | 평균 점수 | 목표 |
|------|----------|------|
| 정확성 | 0.53/1.0 | - |
| 완전성 | 0.55/1.0 | - |
| 관련성 | 0.78/1.0 | - |
| 출처 명시 | 0.49/1.0 | - |
| 실용성 | 0.51/1.0 | - |
| **총점** | **2.88/5.0** | ≥4.0 ❌ |

---

## 5. 주요 문제점 분석

### 5.1 검색 품질 문제

1. **학생 관련 규정 검색 실패**
   - 학사경고 기준: 교원 경고만 검색됨, 학생용 미발견
   - 휴학 신청 기간: 구체적 기간 규정 미검색
   
2. **키워드 매칭 한계**
   - "휴학 신청 기간" → 실제 규정에서 어떤 용어로 되어 있는지 파악 필요
   - "학사경고" → "성적경고", "학업경고" 등 동의어 확장 필요

### 5.2 LLM 답변 품질 문제

1. **지나친 회피성 답변**
   - "확인되지 않습니다", "문의하시기 바랍니다" 빈발
   - 검색 결과가 있어도 활용하지 못함

2. **구체적 수치/기한 누락**
   - 절차만 나열하고 기한, 필요서류 미명시

### 5.3 인텐트 확장 한계

- 감정적 표현("돈이 없어서 힘들어요") 처리 미흡
- 복합 질문 분해 능력 부족

---

## 6. 개선 권장사항

### 6.1 즉시 적용 가능 (인텐트/동의어)

```json
// data/config/intents.json 추가 권장
{
  "학사경고": {
    "triggers": ["학사경고", "성적경고", "학업경고", "경고 받으면"],
    "keywords": ["성적", "경고", "제적", "학점"]
  },
  "휴학기간": {
    "triggers": ["휴학 기간", "휴학 신청", "휴학 언제"],
    "keywords": ["휴학", "수업일수", "신청", "기간"]
  }
}
```

```json
// data/config/synonyms.json 추가 권장
{
  "학사경고": ["성적경고", "학업경고", "성적 미달"],
  "부전공": ["부전", "minor"],
  "복수전공": ["복전", "double major"]
}
```

### 6.2 코드 개선 필요

| 항목 | 파일 | 설명 |
|------|------|------|
| 학생/교원 구분 | `query_analyzer.py` | 쿼리 대상 감지 강화 |
| 프롬프트 개선 | LLM 시스템 프롬프트 | "확인되지 않습니다" 남발 방지 |

### 6.3 구조적 문제 (수동 검토 필요)

- 학칙에서 학생 학사경고 규정이 실제로 존재하는지 원문 확인 필요
- 졸업학점이 학과별로 다르다면 별표/별지 참조 로직 필요

---

## 7. 최종 결과 요약

| 메트릭 | 결과 | 목표 | 상태 |
|--------|------|------|------|
| 정적 테스트 통과율 | 100% | ≥85% | ✅ |
| 동적 쿼리 성공률 | **27%** | ≥80% | ❌ **미달** |
| 멀티턴 성공률 | 100% | ≥75% | ✅ |
| 답변 품질 점수 | **2.88** | ≥4.0 | ❌ **미달** |
| 회귀 발생 | 0건 | 0건 | ✅ |
| 팩트체크 수행률 | 100% | 100% | ✅ |

### 결론

**동적 쿼리 성공률 27%로 목표(80%) 대폭 미달.**

주요 원인:
1. 학생 대상 규정 검색 실패 (학사경고, 휴학 기간 등)
2. LLM이 검색 결과를 충분히 활용하지 못함
3. 감정적/모호한 쿼리 처리 미흡

권장 조치:
1. 인텐트/동의어 사전 보강 (Phase 5 참조)
2. 시스템 프롬프트 개선으로 회피성 답변 감소
3. 학생용 규정 커버리지 확인 (원본 규정 점검)

---

*세션 종료: 2026-01-13*
