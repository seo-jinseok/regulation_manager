# RAG 품질 테스트 세션 보고서

**날짜**: 2026-01-13  
**테스터**: AI Agent (엄격 모드)  
**시스템 버전**: exaone-4.0-32b-mlx via LMStudio

---

## 1. 시작 상태

| 항목 | 값 |
|------|-----|
| 규정 수 | 318개 |
| 조항 수 | 17,254개 |
| LLM Provider | lmstudio |
| LLM Model | exaone-4.0-32b-mlx |
| 정적 테스트 통과율 | **100%** (50/50) |

---

## 2. 동적 쿼리 테스트 결과

### 2.1 테스트한 페르소나

1. 🎓 신입생
2. 📚 재학생 (3학년)
3. 🎓 대학원생
4. 🤕 어려운 상황의 학생
5. 👨‍🏫 신임 교수

### 2.2 난이도 분포

- 쉬움: 5개 (33%)
- 중간: 5개 (33%)
- 어려움: 5개 (33%)

### 2.3 쿼리별 상세 결과

| # | 페르소나 | 난이도 | 쿼리 요약 | 점수 | 판정 | 실패 유형 |
|---|----------|--------|-----------|------|------|-----------|
| 1 | 신입생 | 쉬움 | 휴학 신청 기간 | 3.6 | ⚠️ 부분성공 | INCOMPLETE |
| 2 | 신입생 | 중간 | 장학금-휴학 연계 | 4.3 | ✅ 성공 | - |
| 3 | 신입생 | 어려움 | 재정적 어려움 | 3.2 | ⚠️ 부분성공 | INCOMPLETE |
| 4 | 재학생 | 쉬움 | 졸업학점 | 4.9 | ✅ 성공 | - |
| 5 | 재학생 | 중간 | 복수전공 조건 | 4.9 | ✅ 성공 | - |
| 6 | 재학생 | 어려움 | 졸업 전체 조건 | 3.5 | ⚠️ 부분성공 | WRONG_FACT |
| 7 | 대학원생 | 쉬움 | 석사 졸업학점 | 4.8 | ✅ 성공 | - |
| 8 | 대학원생 | 중간 | 논문 심사 과정 | 4.7 | ✅ 성공 | - |
| 9 | 대학원생 | 어려움 | 연구비 지원 조건 | 3.8 | ⚠️ 부분성공 | IRRELEVANT |
| 10 | 어려운 상황 | 쉬움 | 학사경고 기준 | 4.4 | ✅ 성공 | - |
| 11 | 어려운 상황 | 중간 | 제적 위기 대응 | 3.7 | ⚠️ 부분성공 | INCOMPLETE |
| 12 | 어려운 상황 | 어려움 | 성적 이의제기 | 1.0 | ❌ 실패 | WRONG_FACT |
| 13 | 신임 교수 | 쉬움 | 연구년 자격 | 4.7 | ✅ 성공 | - |
| 14 | 신임 교수 | 중간 | 승진 심사 | 4.0 | ✅ 성공 | - |
| 15 | 신임 교수 | 어려움 | 교수 휴직 옵션 | 0.5 | ❌ 실패 | IRRELEVANT |

### 2.4 성공률 요약

| 판정 | 개수 | 비율 |
|------|------|------|
| ✅ 성공 | 8 | 53.3% |
| ⚠️ 부분성공 (=실패) | 5 | 33.3% |
| ❌ 실패 | 2 | 13.3% |
| **총 성공률** | **8/15** | **53.3%** ❌ |

**목표 (80%) 미달**

---

## 3. 멀티턴 대화 테스트 결과

### 시나리오: 휴학 관련 3턴 대화

| Turn | 질문 | 결과 |
|------|------|------|
| 1 | "휴학하고 싶어요" | ✅ 성공 |
| 2 | "신청 기간은 언제야?" | ❌ 맥락 상실 (논문 규정 안내) |
| 3 | "군휴학도 같은 방법이야?" | ✅ 성공 |

**멀티턴 성공률**: 67% (2/3)  
**목표 (75%) 미달**

---

## 4. 답변 품질 점수 분석

### 4.1 항목별 평균 점수

| 항목 | 평균 점수 | 평가 |
|------|-----------|------|
| 정확성 | 0.70 | ⚠️ |
| 완전성 | 0.62 | ❌ |
| 관련성 | 0.79 | ⚠️ |
| 출처 명시 | 0.81 | ✅ |
| 실용성 | 0.63 | ❌ |
| **전체 평균** | **3.55/5.0** | ❌ |

### 4.2 주요 실패 유형 분포

| 실패 유형 | 발생 횟수 | 설명 |
|-----------|-----------|------|
| INCOMPLETE | 4 | 핵심 정보 누락 |
| WRONG_FACT | 2 | 잘못된 정보 제공 |
| IRRELEVANT | 2 | 대상 불일치 |

---

## 5. 주요 문제점 및 원인 분석

### 5.1 Critical 이슈

#### 1) **대상 불일치 (IRRELEVANT)**
- **쿼리 15**: "교수인데 쉬고 싶다" → 학생 휴학 규정 안내
- **쿼리 9**: 대학원생에게 교원 연구비 규정 안내
- **원인**: `audience` 감지 실패 또는 Tool Calling 시 대상 필터링 미적용

#### 2) **정보 존재하는데 "없다"고 답변 (WRONG_FACT)**
- **쿼리 12**: 성적 이의제기 규정이 존재하는데 "확인되지 않음"
- **원인**: 검색 쿼리 확장 부족, "이의신청" 키워드 미포함

#### 3) **규정 혼동 (WRONG_FACT)**
- **쿼리 6**: 일반학과 졸업학점을 120학점으로 안내 (실제 130학점)
- **원인**: 조기취업형계약학과 규정을 일반학과에 적용

### 5.2 Medium 이슈

#### 4) **구체적 정보 누락 (INCOMPLETE)**
- 휴학 신청 **기간** (언제부터 언제까지)
- 장학금 **종류별** 상세 정보
- 제적 **조건** (학사경고 몇 회 연속?)

### 5.3 Low 이슈

#### 5) **멀티턴 맥락 유지 실패**
- "휴학" 대화 중 "신청 기간" 질문에 논문 규정 안내
- **원인**: CLI 모드에서 대화 맥락이 유지되지 않음

---

## 6. 개선 권장사항

### 6.1 긴급 (Critical)

| 우선순위 | 유형 | 내용 | 수정 대상 |
|----------|------|------|-----------|
| P1 | intent | "교수 쉬고 싶어" → 교원 휴직/연구년 | intents.json |
| P1 | code | 대상(audience) 기반 결과 필터링 강화 | query_analyzer.py |
| P1 | synonym | "이의제기" = "이의신청" 추가 | synonyms.json |

### 6.2 중요 (Medium)

| 우선순위 | 유형 | 내용 | 수정 대상 |
|----------|------|------|-----------|
| P2 | code | 규정 유형별 구분 (학부/대학원/계약학과) | search_usecase.py |
| P2 | intent | "재정 어려움" → 장학금 종류 나열 | intents.json |
| P2 | intent | "제적 위기" → 학사경고 연속 조건 | intents.json |

### 6.3 권장 (Low)

| 우선순위 | 유형 | 내용 |
|----------|------|------|
| P3 | architecture | 멀티턴 대화 맥락 유지 기능 검토 |
| P3 | code | 답변에서 "확인되지 않음" 전 재검색 로직 |

---

## 7. 최종 상태

| 메트릭 | 목표 | 결과 | 상태 |
|--------|------|------|------|
| 정적 테스트 통과율 | ≥ 85% | 100% | ✅ |
| 동적 쿼리 성공률 | ≥ 80% | **53.3%** | ❌ |
| 멀티턴 대화 성공률 | ≥ 75% | 67% | ❌ |
| 답변 품질 점수 | ≥ 4.0 | **3.55** | ❌ |
| 회귀 발생 | 0건 | 0건 | ✅ |
| 팩트체크 수행률 | 100% | 100% | ✅ |

---

## 8. 결론

**테스트 결과**: ❌ **목표 미달**

정적 테스트는 100% 통과하였으나, 실제 사용자 질문에 대한 동적 테스트에서 53.3% 성공률로 목표(80%)를 크게 하회합니다.

**주요 개선 필요 영역**:
1. **대상(audience) 감지 및 필터링** - 교수/학생 구분 필수
2. **동의어/인텐트 확장** - "이의제기", "재정 어려움" 등
3. **규정 유형 구분** - 일반학과 vs 특수학과 규정 혼동 방지

다음 세션에서는 위 개선사항을 적용한 후 재테스트가 필요합니다.

---

**보고서 생성**: 2026-01-13T14:30:00  
**다음 액션**: Phase 5 개선 적용 후 재평가
